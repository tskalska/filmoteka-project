{"id":"i6a9","dependencies":[{"name":"/Users/tskalska/goit/filmoteka-project/package.json","includedInParent":true,"mtime":1642461697429},{"name":"/Users/tskalska/goit/filmoteka-project/.browserslistrc","includedInParent":true,"mtime":1642372169058},{"name":"../api/genres-library","loc":{"line":1,"column":31},"parent":"/Users/tskalska/goit/filmoteka-project/src/js/components/rendering-movies.js","resolved":"/Users/tskalska/goit/filmoteka-project/src/js/api/genres-library.js"},{"name":"../../templates/one-card-markup.hbs","loc":{"line":2,"column":23},"parent":"/Users/tskalska/goit/filmoteka-project/src/js/components/rendering-movies.js","resolved":"/Users/tskalska/goit/filmoteka-project/src/templates/one-card-markup.hbs"},{"name":"./modal-movie","loc":{"line":3,"column":26},"parent":"/Users/tskalska/goit/filmoteka-project/src/js/components/rendering-movies.js","resolved":"/Users/tskalska/goit/filmoteka-project/src/js/components/modal-movie.js"},{"name":"./pagination","loc":{"line":4,"column":40},"parent":"/Users/tskalska/goit/filmoteka-project/src/js/components/rendering-movies.js","resolved":"/Users/tskalska/goit/filmoteka-project/src/js/components/pagination.js"},{"name":"./one-card-btn","loc":{"line":5,"column":34},"parent":"/Users/tskalska/goit/filmoteka-project/src/js/components/rendering-movies.js","resolved":"/Users/tskalska/goit/filmoteka-project/src/js/components/one-card-btn.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.makeMoviesArrayForRendering=g,exports.renderGallery=m,exports.prepareMovieForRendering=f;var e=require(\"../api/genres-library\"),r=o(require(\"../../templates/one-card-markup.hbs\")),t=require(\"./modal-movie\"),n=require(\"./pagination\"),i=require(\"./one-card-btn\");function o(e){return e&&e.__esModule?e:{default:e}}const a=\"https://image.tmdb.org/t/p/\",s=\"w500\";function u(e){return e.map(e=>e.name)}function l(e){return Array.isArray(e)?e.length>2?`${e[0]}, ${e[1]}, Other`:e.join(\", \"):\"\"}function c(e){return e.release_date?e.release_date.slice(0,4):\"\"}function d(r){const t=l(u((0,e.getGenresByIds)(r.genre_ids))),n=c(r);return\"\"===n||\"\"===t?`${t}${n}`:`${t} | ${n}`}function p(e){return null===e?\"icon-poster.png\":`${a}${s}${e}`}function g(e){return pagination.setTotalItems(e.total_results),1===pagination.getCurrentPage()&&pagination.reset(),(0,n.setPaginationVisibility)(e),e.results.map(f)}function f(r){r.stringDescription=d(r),r.posterUrl=p(r.poster_path);const t=u((0,e.getGenresByIds)(r.genre_ids));return r.fullGenresList=t.join(\", \"),r}function m(e){const t=(0,r.default)(e);document.querySelector(\".films__list\").innerHTML=t,_(),y(e),(0,i.createCardOverlay)(e)}function _(){if(!pageState.isHome){[...document.querySelectorAll(\".one-card__average\")].map(e=>e.classList.remove(\"visually-hidden\"))}}function y(e){document.querySelectorAll(\".one-card_box\").forEach((r,n)=>{r.addEventListener(\"click\",r=>{new t.OpenModal(e[n]).showModal(e[n])})})}"},"sourceMaps":{"js":{"mappings":[{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":0}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":13}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":20}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":35}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":43}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":56}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":57}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":64}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":68}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":76}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":104}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":106}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":114}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":128}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":130}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":138}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":163}},{"source":"js/components/rendering-movies.js","original":{"line":1,"column":0},"generated":{"line":1,"column":165}},{"source":"js/components/rendering-movies.js","original":{"line":1,"column":0},"generated":{"line":1,"column":169}},{"source":"js/components/rendering-movies.js","original":{"line":1,"column":0},"generated":{"line":1,"column":171}},{"source":"js/components/rendering-movies.js","original":{"line":1,"column":0},"generated":{"line":1,"column":179}},{"source":"js/components/rendering-movies.js","original":{"line":2,"column":0},"generated":{"line":1,"column":204}},{"source":"js/components/rendering-movies.js","original":{"line":2,"column":0},"generated":{"line":1,"column":206}},{"source":"js/components/rendering-movies.js","original":{"line":2,"column":0},"generated":{"line":1,"column":208}},{"source":"js/components/rendering-movies.js","original":{"line":2,"column":0},"generated":{"line":1,"column":216}},{"source":"js/components/rendering-movies.js","original":{"line":3,"column":0},"generated":{"line":1,"column":256}},{"source":"js/components/rendering-movies.js","original":{"line":3,"column":0},"generated":{"line":1,"column":258}},{"source":"js/components/rendering-movies.js","original":{"line":3,"column":0},"generated":{"line":1,"column":266}},{"source":"js/components/rendering-movies.js","original":{"line":4,"column":0},"generated":{"line":1,"column":283}},{"source":"js/components/rendering-movies.js","original":{"line":4,"column":0},"generated":{"line":1,"column":285}},{"source":"js/components/rendering-movies.js","original":{"line":4,"column":0},"generated":{"line":1,"column":293}},{"source":"js/components/rendering-movies.js","original":{"line":5,"column":0},"generated":{"line":1,"column":309}},{"source":"js/components/rendering-movies.js","original":{"line":5,"column":0},"generated":{"line":1,"column":311}},{"source":"js/components/rendering-movies.js","original":{"line":5,"column":0},"generated":{"line":1,"column":319}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":337}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":346}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":348}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":351}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":358}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":361}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":363}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":374}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":376}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":377}},{"source":"js/components/rendering-movies.js","original":{"line":92,"column":1},"generated":{"line":1,"column":385}},{"source":"js/components/rendering-movies.js","original":{"line":7,"column":0},"generated":{"line":1,"column":388}},{"source":"js/components/rendering-movies.js","name":"BASE_URL","original":{"line":7,"column":6},"generated":{"line":1,"column":394}},{"source":"js/components/rendering-movies.js","original":{"line":7,"column":17},"generated":{"line":1,"column":396}},{"source":"js/components/rendering-movies.js","name":"BASE_WIDTH","original":{"line":8,"column":6},"generated":{"line":1,"column":426}},{"source":"js/components/rendering-movies.js","original":{"line":8,"column":19},"generated":{"line":1,"column":428}},{"source":"js/components/rendering-movies.js","original":{"line":10,"column":0},"generated":{"line":1,"column":435}},{"source":"js/components/rendering-movies.js","name":"arrGenres","original":{"line":10,"column":9},"generated":{"line":1,"column":444}},{"source":"js/components/rendering-movies.js","name":"array","original":{"line":10,"column":19},"generated":{"line":1,"column":446}},{"source":"js/components/rendering-movies.js","name":"array","original":{"line":11,"column":9},"generated":{"line":1,"column":449}},{"source":"js/components/rendering-movies.js","name":"array","original":{"line":11,"column":9},"generated":{"line":1,"column":456}},{"source":"js/components/rendering-movies.js","name":"map","original":{"line":11,"column":15},"generated":{"line":1,"column":458}},{"source":"js/components/rendering-movies.js","name":"item","original":{"line":11,"column":19},"generated":{"line":1,"column":462}},{"source":"js/components/rendering-movies.js","name":"item","original":{"line":11,"column":27},"generated":{"line":1,"column":465}},{"source":"js/components/rendering-movies.js","name":"name","original":{"line":11,"column":32},"generated":{"line":1,"column":467}},{"source":"js/components/rendering-movies.js","original":{"line":14,"column":0},"generated":{"line":1,"column":473}},{"source":"js/components/rendering-movies.js","name":"makeStringGenres","original":{"line":14,"column":9},"generated":{"line":1,"column":482}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":14,"column":26},"generated":{"line":1,"column":484}},{"source":"js/components/rendering-movies.js","original":{"line":15,"column":6},"generated":{"line":1,"column":487}},{"source":"js/components/rendering-movies.js","name":"Array","original":{"line":15,"column":7},"generated":{"line":1,"column":494}},{"source":"js/components/rendering-movies.js","name":"isArray","original":{"line":15,"column":13},"generated":{"line":1,"column":500}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":15,"column":21},"generated":{"line":1,"column":508}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":16,"column":6},"generated":{"line":1,"column":511}},{"source":"js/components/rendering-movies.js","name":"length","original":{"line":16,"column":17},"generated":{"line":1,"column":513}},{"source":"js/components/rendering-movies.js","original":{"line":16,"column":26},"generated":{"line":1,"column":520}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":17,"column":14},"generated":{"line":1,"column":525}},{"source":"js/components/rendering-movies.js","original":{"line":17,"column":25},"generated":{"line":1,"column":527}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":17,"column":32},"generated":{"line":1,"column":534}},{"source":"js/components/rendering-movies.js","original":{"line":17,"column":43},"generated":{"line":1,"column":536}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":19,"column":9},"generated":{"line":1,"column":548}},{"source":"js/components/rendering-movies.js","name":"join","original":{"line":19,"column":20},"generated":{"line":1,"column":550}},{"source":"js/components/rendering-movies.js","original":{"line":19,"column":25},"generated":{"line":1,"column":555}},{"source":"js/components/rendering-movies.js","original":{"line":15,"column":41},"generated":{"line":1,"column":561}},{"source":"js/components/rendering-movies.js","original":{"line":22,"column":0},"generated":{"line":1,"column":564}},{"source":"js/components/rendering-movies.js","name":"makeYear","original":{"line":22,"column":9},"generated":{"line":1,"column":573}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":22,"column":18},"generated":{"line":1,"column":575}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":23,"column":6},"generated":{"line":1,"column":578}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":23,"column":6},"generated":{"line":1,"column":585}},{"source":"js/components/rendering-movies.js","name":"release_date","original":{"line":23,"column":12},"generated":{"line":1,"column":587}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":24,"column":11},"generated":{"line":1,"column":600}},{"source":"js/components/rendering-movies.js","name":"release_date","original":{"line":24,"column":17},"generated":{"line":1,"column":602}},{"source":"js/components/rendering-movies.js","name":"slice","original":{"line":24,"column":30},"generated":{"line":1,"column":615}},{"source":"js/components/rendering-movies.js","original":{"line":24,"column":36},"generated":{"line":1,"column":621}},{"source":"js/components/rendering-movies.js","original":{"line":24,"column":39},"generated":{"line":1,"column":623}},{"source":"js/components/rendering-movies.js","original":{"line":26,"column":9},"generated":{"line":1,"column":626}},{"source":"js/components/rendering-movies.js","original":{"line":29,"column":0},"generated":{"line":1,"column":629}},{"source":"js/components/rendering-movies.js","name":"makeStringDescription","original":{"line":29,"column":9},"generated":{"line":1,"column":638}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":29,"column":31},"generated":{"line":1,"column":640}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":30,"column":8},"generated":{"line":1,"column":643}},{"source":"js/components/rendering-movies.js","name":"stringGenres","original":{"line":31,"column":8},"generated":{"line":1,"column":649}},{"source":"js/components/rendering-movies.js","name":"makeStringGenres","original":{"line":31,"column":23},"generated":{"line":1,"column":651}},{"source":"js/components/rendering-movies.js","name":"arrGenres","original":{"line":30,"column":21},"generated":{"line":1,"column":653}},{"source":"js/components/rendering-movies.js","original":{"line":30,"column":31},"generated":{"line":1,"column":656}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":30,"column":46},"generated":{"line":1,"column":658}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":30,"column":46},"generated":{"line":1,"column":660}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":30,"column":46},"generated":{"line":1,"column":676}},{"source":"js/components/rendering-movies.js","name":"genre_ids","original":{"line":30,"column":52},"generated":{"line":1,"column":678}},{"source":"js/components/rendering-movies.js","name":"yearRelease","original":{"line":32,"column":8},"generated":{"line":1,"column":691}},{"source":"js/components/rendering-movies.js","name":"makeYear","original":{"line":32,"column":22},"generated":{"line":1,"column":693}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":32,"column":31},"generated":{"line":1,"column":695}},{"source":"js/components/rendering-movies.js","name":"yearRelease","original":{"line":34,"column":6},"generated":{"line":1,"column":698}},{"source":"js/components/rendering-movies.js","original":{"line":34,"column":22},"generated":{"line":1,"column":704}},{"source":"js/components/rendering-movies.js","name":"yearRelease","original":{"line":34,"column":6},"generated":{"line":1,"column":709}},{"source":"js/components/rendering-movies.js","original":{"line":34,"column":45},"generated":{"line":1,"column":712}},{"source":"js/components/rendering-movies.js","name":"stringGenres","original":{"line":34,"column":28},"generated":{"line":1,"column":717}},{"source":"js/components/rendering-movies.js","name":"stringGenres","original":{"line":35,"column":14},"generated":{"line":1,"column":722}},{"source":"js/components/rendering-movies.js","name":"yearRelease","original":{"line":35,"column":29},"generated":{"line":1,"column":726}},{"source":"js/components/rendering-movies.js","name":"stringGenres","original":{"line":37,"column":14},"generated":{"line":1,"column":733}},{"source":"js/components/rendering-movies.js","name":"yearRelease","original":{"line":37,"column":32},"generated":{"line":1,"column":740}},{"source":"js/components/rendering-movies.js","original":{"line":41,"column":0},"generated":{"line":1,"column":744}},{"source":"js/components/rendering-movies.js","name":"makeUrl","original":{"line":41,"column":9},"generated":{"line":1,"column":753}},{"source":"js/components/rendering-movies.js","name":"partialURL","original":{"line":41,"column":17},"generated":{"line":1,"column":755}},{"source":"js/components/rendering-movies.js","name":"partialURL","original":{"line":42,"column":6},"generated":{"line":1,"column":758}},{"source":"js/components/rendering-movies.js","original":{"line":42,"column":21},"generated":{"line":1,"column":765}},{"source":"js/components/rendering-movies.js","name":"partialURL","original":{"line":42,"column":6},"generated":{"line":1,"column":772}},{"source":"js/components/rendering-movies.js","original":{"line":43,"column":11},"generated":{"line":1,"column":774}},{"source":"js/components/rendering-movies.js","name":"BASE_URL","original":{"line":45,"column":12},"generated":{"line":1,"column":795}},{"source":"js/components/rendering-movies.js","name":"BASE_WIDTH","original":{"line":45,"column":23},"generated":{"line":1,"column":799}},{"source":"js/components/rendering-movies.js","name":"partialURL","original":{"line":45,"column":36},"generated":{"line":1,"column":803}},{"source":"js/components/rendering-movies.js","original":{"line":48,"column":0},"generated":{"line":1,"column":807}},{"source":"js/components/rendering-movies.js","name":"makeMoviesArrayForRendering","original":{"line":48,"column":9},"generated":{"line":1,"column":816}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":48,"column":37},"generated":{"line":1,"column":818}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":57,"column":9},"generated":{"line":1,"column":821}},{"source":"js/components/rendering-movies.js","name":"pagination","original":{"line":49,"column":2},"generated":{"line":1,"column":828}},{"source":"js/components/rendering-movies.js","name":"setTotalItems","original":{"line":49,"column":13},"generated":{"line":1,"column":839}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":49,"column":27},"generated":{"line":1,"column":853}},{"source":"js/components/rendering-movies.js","name":"total_results","original":{"line":49,"column":32},"generated":{"line":1,"column":855}},{"source":"js/components/rendering-movies.js","original":{"line":50,"column":38},"generated":{"line":1,"column":870}},{"source":"js/components/rendering-movies.js","name":"pagination","original":{"line":50,"column":6},"generated":{"line":1,"column":874}},{"source":"js/components/rendering-movies.js","name":"getCurrentPage","original":{"line":50,"column":17},"generated":{"line":1,"column":885}},{"source":"js/components/rendering-movies.js","name":"pagination","original":{"line":51,"column":4},"generated":{"line":1,"column":903}},{"source":"js/components/rendering-movies.js","name":"reset","original":{"line":51,"column":15},"generated":{"line":1,"column":914}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":53,"column":26},"generated":{"line":1,"column":923}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":53,"column":26},"generated":{"line":1,"column":925}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":53,"column":26},"generated":{"line":1,"column":927}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":53,"column":26},"generated":{"line":1,"column":952}},{"source":"js/components/rendering-movies.js","name":"data","original":{"line":55,"column":20},"generated":{"line":1,"column":955}},{"source":"js/components/rendering-movies.js","name":"results","original":{"line":55,"column":25},"generated":{"line":1,"column":957}},{"source":"js/components/rendering-movies.js","name":"map","original":{"line":56,"column":38},"generated":{"line":1,"column":965}},{"source":"js/components/rendering-movies.js","name":"prepareMovieForRendering","original":{"line":56,"column":42},"generated":{"line":1,"column":969}},{"source":"js/components/rendering-movies.js","original":{"line":60,"column":0},"generated":{"line":1,"column":972}},{"source":"js/components/rendering-movies.js","name":"prepareMovieForRendering","original":{"line":60,"column":9},"generated":{"line":1,"column":981}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":60,"column":34},"generated":{"line":1,"column":983}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":61,"column":2},"generated":{"line":1,"column":986}},{"source":"js/components/rendering-movies.js","name":"stringDescription","original":{"line":61,"column":8},"generated":{"line":1,"column":988}},{"source":"js/components/rendering-movies.js","name":"makeStringDescription","original":{"line":61,"column":28},"generated":{"line":1,"column":1006}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":61,"column":50},"generated":{"line":1,"column":1008}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":62,"column":2},"generated":{"line":1,"column":1011}},{"source":"js/components/rendering-movies.js","name":"posterUrl","original":{"line":62,"column":8},"generated":{"line":1,"column":1013}},{"source":"js/components/rendering-movies.js","name":"makeUrl","original":{"line":62,"column":20},"generated":{"line":1,"column":1023}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":62,"column":28},"generated":{"line":1,"column":1025}},{"source":"js/components/rendering-movies.js","name":"poster_path","original":{"line":62,"column":34},"generated":{"line":1,"column":1027}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":63,"column":8},"generated":{"line":1,"column":1040}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":63,"column":8},"generated":{"line":1,"column":1046}},{"source":"js/components/rendering-movies.js","name":"arrGenres","original":{"line":63,"column":21},"generated":{"line":1,"column":1048}},{"source":"js/components/rendering-movies.js","original":{"line":63,"column":31},"generated":{"line":1,"column":1051}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":63,"column":46},"generated":{"line":1,"column":1053}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":63,"column":46},"generated":{"line":1,"column":1055}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":63,"column":46},"generated":{"line":1,"column":1071}},{"source":"js/components/rendering-movies.js","name":"genre_ids","original":{"line":63,"column":52},"generated":{"line":1,"column":1073}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":65,"column":9},"generated":{"line":1,"column":1085}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":64,"column":2},"generated":{"line":1,"column":1092}},{"source":"js/components/rendering-movies.js","name":"fullGenresList","original":{"line":64,"column":8},"generated":{"line":1,"column":1094}},{"source":"js/components/rendering-movies.js","name":"arrStrName","original":{"line":64,"column":25},"generated":{"line":1,"column":1109}},{"source":"js/components/rendering-movies.js","name":"join","original":{"line":64,"column":36},"generated":{"line":1,"column":1111}},{"source":"js/components/rendering-movies.js","original":{"line":64,"column":41},"generated":{"line":1,"column":1116}},{"source":"js/components/rendering-movies.js","name":"movie","original":{"line":65,"column":9},"generated":{"line":1,"column":1122}},{"source":"js/components/rendering-movies.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1124}},{"source":"js/components/rendering-movies.js","name":"renderGallery","original":{"line":68,"column":9},"generated":{"line":1,"column":1133}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":68,"column":23},"generated":{"line":1,"column":1135}},{"source":"js/components/rendering-movies.js","name":"galleryMarkup","original":{"line":69,"column":8},"generated":{"line":1,"column":1138}},{"source":"js/components/rendering-movies.js","name":"galleryMarkup","original":{"line":69,"column":8},"generated":{"line":1,"column":1144}},{"source":"js/components/rendering-movies.js","original":{"line":69,"column":24},"generated":{"line":1,"column":1147}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":69,"column":35},"generated":{"line":1,"column":1149}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":69,"column":35},"generated":{"line":1,"column":1151}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":69,"column":35},"generated":{"line":1,"column":1160}},{"source":"js/components/rendering-movies.js","name":"document","original":{"line":71,"column":2},"generated":{"line":1,"column":1163}},{"source":"js/components/rendering-movies.js","name":"querySelector","original":{"line":71,"column":11},"generated":{"line":1,"column":1172}},{"source":"js/components/rendering-movies.js","original":{"line":71,"column":25},"generated":{"line":1,"column":1186}},{"source":"js/components/rendering-movies.js","name":"innerHTML","original":{"line":71,"column":41},"generated":{"line":1,"column":1202}},{"source":"js/components/rendering-movies.js","name":"galleryMarkup","original":{"line":71,"column":53},"generated":{"line":1,"column":1212}},{"source":"js/components/rendering-movies.js","name":"showsRating","original":{"line":72,"column":2},"generated":{"line":1,"column":1214}},{"source":"js/components/rendering-movies.js","name":"bindMovieObjToCard","original":{"line":73,"column":2},"generated":{"line":1,"column":1218}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":73,"column":21},"generated":{"line":1,"column":1220}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":74,"column":20},"generated":{"line":1,"column":1224}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":74,"column":20},"generated":{"line":1,"column":1226}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":74,"column":20},"generated":{"line":1,"column":1228}},{"source":"js/components/rendering-movies.js","name":"arrayForRendering","original":{"line":74,"column":20},"generated":{"line":1,"column":1247}},{"source":"js/components/rendering-movies.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1250}},{"source":"js/components/rendering-movies.js","name":"showsRating","original":{"line":77,"column":9},"generated":{"line":1,"column":1259}},{"source":"js/components/rendering-movies.js","original":{"line":78,"column":6},"generated":{"line":1,"column":1263}},{"source":"js/components/rendering-movies.js","name":"pageState","original":{"line":78,"column":7},"generated":{"line":1,"column":1267}},{"source":"js/components/rendering-movies.js","name":"isHome","original":{"line":78,"column":17},"generated":{"line":1,"column":1277}},{"source":"js/components/rendering-movies.js","original":{"line":78,"column":25},"generated":{"line":1,"column":1284}},{"source":"js/components/rendering-movies.js","original":{"line":80,"column":5},"generated":{"line":1,"column":1285}},{"source":"js/components/rendering-movies.js","name":"document","original":{"line":79,"column":25},"generated":{"line":1,"column":1289}},{"source":"js/components/rendering-movies.js","name":"querySelectorAll","original":{"line":79,"column":34},"generated":{"line":1,"column":1298}},{"source":"js/components/rendering-movies.js","original":{"line":79,"column":51},"generated":{"line":1,"column":1315}},{"source":"js/components/rendering-movies.js","name":"map","original":{"line":80,"column":22},"generated":{"line":1,"column":1338}},{"source":"js/components/rendering-movies.js","name":"element","original":{"line":80,"column":26},"generated":{"line":1,"column":1342}},{"source":"js/components/rendering-movies.js","name":"element","original":{"line":80,"column":37},"generated":{"line":1,"column":1345}},{"source":"js/components/rendering-movies.js","name":"classList","original":{"line":80,"column":45},"generated":{"line":1,"column":1347}},{"source":"js/components/rendering-movies.js","name":"remove","original":{"line":80,"column":55},"generated":{"line":1,"column":1357}},{"source":"js/components/rendering-movies.js","original":{"line":80,"column":62},"generated":{"line":1,"column":1364}},{"source":"js/components/rendering-movies.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1385}},{"source":"js/components/rendering-movies.js","name":"bindMovieObjToCard","original":{"line":84,"column":9},"generated":{"line":1,"column":1394}},{"source":"js/components/rendering-movies.js","name":"movieObjs","original":{"line":84,"column":28},"generated":{"line":1,"column":1396}},{"source":"js/components/rendering-movies.js","name":"document","original":{"line":85,"column":16},"generated":{"line":1,"column":1399}},{"source":"js/components/rendering-movies.js","name":"querySelectorAll","original":{"line":85,"column":25},"generated":{"line":1,"column":1408}},{"source":"js/components/rendering-movies.js","original":{"line":85,"column":42},"generated":{"line":1,"column":1425}},{"source":"js/components/rendering-movies.js","name":"forEach","original":{"line":86,"column":8},"generated":{"line":1,"column":1442}},{"source":"js/components/rendering-movies.js","original":{"line":86,"column":16},"generated":{"line":1,"column":1450}},{"source":"js/components/rendering-movies.js","name":"card","original":{"line":86,"column":17},"generated":{"line":1,"column":1451}},{"source":"js/components/rendering-movies.js","name":"index","original":{"line":86,"column":23},"generated":{"line":1,"column":1453}},{"source":"js/components/rendering-movies.js","name":"card","original":{"line":87,"column":4},"generated":{"line":1,"column":1458}},{"source":"js/components/rendering-movies.js","name":"addEventListener","original":{"line":87,"column":9},"generated":{"line":1,"column":1460}},{"source":"js/components/rendering-movies.js","original":{"line":87,"column":26},"generated":{"line":1,"column":1477}},{"source":"js/components/rendering-movies.js","name":"event","original":{"line":87,"column":35},"generated":{"line":1,"column":1485}},{"source":"js/components/rendering-movies.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1489}},{"source":"js/components/rendering-movies.js","name":"OpenModal","original":{"line":88,"column":28},"generated":{"line":1,"column":1493}},{"source":"js/components/rendering-movies.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1495}},{"source":"js/components/rendering-movies.js","name":"movieObjs","original":{"line":88,"column":38},"generated":{"line":1,"column":1505}},{"source":"js/components/rendering-movies.js","name":"index","original":{"line":88,"column":48},"generated":{"line":1,"column":1507}},{"source":"js/components/rendering-movies.js","name":"showModal","original":{"line":89,"column":16},"generated":{"line":1,"column":1511}},{"source":"js/components/rendering-movies.js","name":"movieObjs","original":{"line":89,"column":26},"generated":{"line":1,"column":1521}},{"source":"js/components/rendering-movies.js","name":"index","original":{"line":89,"column":36},"generated":{"line":1,"column":1523}}],"sources":{"js/components/rendering-movies.js":"import { getGenresByIds } from '../api/genres-library';\nimport cardMarkup from '../../templates/one-card-markup.hbs';\nimport { OpenModal } from './modal-movie';\nimport { setPaginationVisibility } from './pagination';\nimport { createCardOverlay } from './one-card-btn';\n\nconst BASE_URL = 'https://image.tmdb.org/t/p/';\nconst BASE_WIDTH = 'w500';\n\nfunction arrGenres(array) {\n  return array.map(item => item.name);\n}\n\nfunction makeStringGenres(arrStrName) {\n  if (!Array.isArray(arrStrName)) return '';\n  if (arrStrName.length > 2) {\n    return `${arrStrName[0]}, ${arrStrName[1]}, Other`;\n  }\n  return arrStrName.join(', ');\n}\n\nfunction makeYear(movie) {\n  if (movie.release_date) {\n    return movie.release_date.slice(0, 4);\n  }\n  return '';\n}\n\nfunction makeStringDescription(movie) {\n  const arrStrName = arrGenres(getGenresByIds(movie.genre_ids));\n  const stringGenres = makeStringGenres(arrStrName);\n  const yearRelease = makeYear(movie);\n\n  if (yearRelease === '' || stringGenres === '') {\n    return `${stringGenres}${yearRelease}`;\n  } else {\n    return `${stringGenres} | ${yearRelease}`;\n  }\n}\n\nfunction makeUrl(partialURL) {\n  if (partialURL === null) {\n    return 'icon-poster.png';\n  }\n  return `${BASE_URL}${BASE_WIDTH}${partialURL}`;\n}\n\nfunction makeMoviesArrayForRendering(data) {\n  pagination.setTotalItems(data.total_results);\n  if (pagination.getCurrentPage() === 1) {\n    pagination.reset();\n  }\n  setPaginationVisibility(data);\n\n  const arrMovies = data.results;\n  const arrayForRendering = arrMovies.map(prepareMovieForRendering);\n  return arrayForRendering;\n}\n\nfunction prepareMovieForRendering(movie) {\n  movie.stringDescription = makeStringDescription(movie);\n  movie.posterUrl = makeUrl(movie.poster_path);\n  const arrStrName = arrGenres(getGenresByIds(movie.genre_ids));\n  movie.fullGenresList = arrStrName.join(', ');\n  return movie;\n}\n\nfunction renderGallery(arrayForRendering) {\n  const galleryMarkup = cardMarkup(arrayForRendering);\n  // setPaginationVisibilityLocalDB(arrayForRendering);\n  document.querySelector('.films__list').innerHTML = galleryMarkup;\n  showsRating();\n  bindMovieObjToCard(arrayForRendering);\n  createCardOverlay(arrayForRendering);\n}\n\nfunction showsRating() {\n  if (!pageState.isHome) {\n    const ratingMarkup = document.querySelectorAll('.one-card__average');\n    [...ratingMarkup].map(element => element.classList.remove('visually-hidden'));\n  }\n}\n\nfunction bindMovieObjToCard(movieObjs) {\n  const cards = document.querySelectorAll('.one-card_box');\n  cards.forEach((card, index) => {\n    card.addEventListener('click', event => {\n      const openModal = new OpenModal(movieObjs[index]);\n      openModal.showModal(movieObjs[index]);\n    });\n  });\n}\n\nexport { makeMoviesArrayForRendering, renderGallery, prepareMovieForRendering };\n"},"lineCount":null}},"error":null,"hash":"9fb0bd45f938bf4ae404f8de1dc06947","cacheData":{"env":{}}}